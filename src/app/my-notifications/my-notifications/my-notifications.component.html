<div class="justify-center items-center p-1 mt-2 overflow-x-scroll" *ngIf="notificationData.length === 0">
    <h1 class="text-gray-500 italic font-sans">
        Notifications will appear here
    </h1>
</div>
<div class="flex justify-between p-2 font-bold">
    <div class="text-gray-500 italic font-sans">
        {{ notificationData.length }} / {{notificationsLength }}
    </div>
    <div class="text-gray-500 italic font-sans">
        <div class="grid grid-cols">
            <div class="flex flex-cols gap-2">
                <span *ngIf="!isSelectAllChecked()" class="mt-1">
                    Select all
                </span>
                <span *ngIf="isSelectAllChecked()" class="mt-1">
                    Unselect all
                </span>
                <input type="checkbox" [checked]="isSelectAllChecked()" (change)="toggleSelectAll($event)">
                <i-feather name="more-horizontal" (click)="toggleBulkAction(); stopPropagation($event);"
                    class="font-bold text-gray-950 mr-2 mt-2 cursor-pointer" style="width: 16px;"
                    [ngClass]="{'disabled-horizontal-icon': selectedNotificationIds.length === 0}">
                </i-feather>
            </div>
        </div>
    </div>
    <div [ngClass]="{'hidden': !showBulkAction}" id="notificationAction"
        class="absolute grid grid-cols right-8 md:right-16 bg-white rounded-md w-30 text-sm border border-gray-300 shadow-lg">
        <p class="flex flex items-center justify-center font-bold">
            With selected, do?
        </p>
        <p (click)="submitBulkAction('read')"
            class="p-1 mx-2 text-md cursor-pointer duration-300 hover:drop-shadow-4xl hover:text-red-600 hover:scale-105">
            Mark as read ✅
        </p>
        <p (click)="submitBulkAction('unread')"
            class="p-1 mx-2 text-md cursor-pointer duration-300 hover:drop-shadow-4xl hover:text-red-600 hover:scale-105">
            Mark as unread
        </p>
        <p (click)="submitBulkAction('delete')"
            class="p-1 mx-2 text-md cursor-pointer duration-300 hover:drop-shadow-4xl hover:text-red-600 hover:scale-105">
            Delete notifications
        </p>
    </div>
</div>
<div class="justify-center items-center -mt-4 p-1 overflow-x-scroll font-sans" *ngIf="notificationData.length > 0">
    <div class="min-w-[300px]">
        <table class="table-auto border-collapse rounded-lg text-gray-950 font-sans container">
            <tbody class="rounded-lg">
                <tr *ngFor="let notification of notificationData; let i = index" class="text-sm text-gray-600"
                    [ngClass]="{'bg-gray-200 bg-opacity-50 bg-rounded-lg': notification.read === false}">
                    <td class="cursor-pointer" (click)="readNotification(notification.id)">
                        <div class="flex justify-between p-2">
                            <div class="font-bold block md:hidden">
                                {{ notification.notification.length > 30 ? notification.notification.slice(0, 30) +
                                '.......' : notification.notification }}
                            </div>
                            <div class="font-bold hidden md:block lg:hidden">
                                {{ notification.notification.length > 45 ? notification.notification.slice(0, 45) +
                                '.......' : notification.notification }}
                            </div>
                            <div class="font-bold hidden lg:block">
                                {{ notification.notification.length > 70 ? notification.notification.slice(0, 70) +
                                '.......' : notification.notification }}
                            </div>
                            <div class="flex flex-cols text-sm italic text-gray-400">
                                {{ formatDate(notification.date) }}
                            </div>
                        </div>
                    </td>
                    <td class="px-4 py-2 text-sm">
                        <div class="grid grid-cols">
                            <div class="grid grid-cols">
                                <div class="grid grid-cols sm:grid-cols-2 gap-2">
                                    <i-feather name="more-horizontal" (click)="openMenu(i); stopPropagation($event);"
                                        class="font-bold text-gray-950 mr-2 mt-2 cursor-pointer" style="width: 16px;">
                                    </i-feather>
                                    <div class="flex flex-cols">
                                        <input type="checkbox" class="" (change)="toggleSelect($event, notification);"
                                            [checked]="notification.checked">
                                    </div>
                                </div>
                                <div class="grid grid-cols text-sm italic text-gray-950">
                                    <div class="flex flex-cols">
                                        <div [ngClass]="{'hidden': !menuOpen[i]}" id="notificationAction"
                                            class="absolute grid grid-cols right-8 md:right-16 bg-white rounded-md w-30 text-sm border border-gray-300 shadow-lg">
                                            <p (click)="deleteNotification(notification.id)"
                                                class="p-1 mx-2 text-md cursor-pointer duration-300 hover:drop-shadow-4xl hover:text-red-600 hover:scale-105">
                                                Delete
                                            </p>
                                            <p (click)="readNotification(notification.id)"
                                                class="p-1 mx-2 text-md cursor-pointer duration-300 hover:drop-shadow-4xl hover:text-red-600 hover:scale-105">
                                                Mark as read ✅
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>