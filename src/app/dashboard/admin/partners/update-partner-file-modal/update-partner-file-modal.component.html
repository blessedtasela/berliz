<div class="rounded-md mx-auto">
    <form [formGroup]="updatePartnerForm">
        <div class="border-2 " [ngClass]="{'border-red-400':
          (updatePartnerForm.get('certificate')?.invalid ||
                updatePartnerForm.get('cv')?.invalid) && invalidForm }">

            <header class="text-center m-2">
                <div class="text-red-600 text-right font-bold -mb-4">
                    <i-feather name="x-circle" (click)="closeDialog()" class="cursor-pointer ml-20"></i-feather>
                </div>
                <h1 class="font-bold font-sans text-xl">Update partner CV and certificate</h1>
                <p class="font-sans text-sm">Partner ID: {{partnerData.user.id}}
                </p>
            </header>
            <hr [ngClass]="{'border-red-500':    
            ( updatePartnerForm.get('certificate')?.invalid ||
            updatePartnerForm.get('cv')?.invalid) && invalidForm }">
            <div class="invalid-form">
                <span *ngIf="!(updatePartnerForm.get('certificate')?.invalid ||
                updatePartnerForm.get('cv')?.invalid) && invalidForm" class="mx-2 text-gray-400">
                    Everything looks good
                </span>
                <span *ngIf="  
                (updatePartnerForm.get('certificate')?.invalid ||
                updatePartnerForm.get('cv')?.invalid) && invalidForm" class="text-red-500 mx-2">
                    Please complete this section
                </span>
            </div>
            <div class="grid grid-cols-2 gap-1 flex items-center gap-5">
                <div class="mx-auto col-span-2">
                    <div class="font-bold text-gray-950 mt-4 mb-1">Relevant document or certificate</div>
                    <span *ngIf="partnerData.certificate">certificate-{{partnerData.user.email}}</span>
                    <div class="flex">
                        <span class="sr-only">Upload certificate</span>
                        <div class="shrink-0">
                            <img class="h-16 w-16 object-cover rounded-full" src="../../../assets/icons/file.png"
                                alt="Display photo" />
                        </div>
                        <input formControlName="certificate" id="certificate"
                            class="border-2 px-4 py-2 rounded-md m-2 col-span-2 hover:border-gray-400 focus:border-gray-400 focus:outline-none
                            block w-full text-sm text-gray-950 font-bold cursor-pointer file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0
                            file:text-sm file:font-semibold file:bg-gray-100 file:text-red-600 hover:file:bg-gray-200 file:cursor-pointer"
                            [ngClass]="{'border-gray-950': updatePartnerForm.get('certificate')?.invalid && updatePartnerForm.get('certificate')?.dirty }"
                            (change)="onCertificateSelected($event)" type="file" accept=".pdf">
                    </div>
                    <div *ngIf="updatePartnerForm.get('certificate')?.invalid && updatePartnerForm.get('certificate')?.dirty"
                        class="text-red-500 mx-2">
                        Certificate is required
                    </div>
                </div>
                <div class="mx-auto col-span-2">
                    <span class="sr-only">Choose CV </span>
                    <div class="font-bold text-gray-950 mt-4 mb-1">Upload CV</div>
                    <span *ngIf="partnerData.cv">cv-{{partnerData.user.email}}</span>
                    <div class="flex">
                        <div class="shrink-0">
                            <img class="h-16 w-16 object-cover rounded-full" src="../../../assets/icons/file.png"
                                alt="Display photo" />
                        </div>
                        <input formControlName="cv" id="cv"
                            class="border-2 px-4 py-2 rounded-md m-2 hover:border-gray-400 focus:border-gray-400 focus:outline-none
                            block w-full text-sm text-gray-950 font-bold cursor-pointer file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0
                            file:text-sm file:font-semibold file:bg-gray-100 file:text-red-600 hover:file:bg-gray-200 file:cursor-pointer"
                            [ngClass]="{'border-gray-950': updatePartnerForm.get('cv')?.invalid && updatePartnerForm.get('cv')?.dirty }"
                            (change)="onCVSelected($event)" type="file" accept=".pdf">
                    </div>
                    <div *ngIf="updatePartnerForm.get('cv')?.invalid && updatePartnerForm.get('cv')?.dirty" class="text-red-500 mx-2">
                        Upload a valid file
                    </div>
                </div>
                <div class="bg-red-600 rounded-md mx-auto m-2">
                    <button
                        class="p-2 font-bold font-sans mx-4 text-white text-sm lg:text-md flex items-center justify-center"
                        (click)="clear()">
                        Clear
                    </button>
                </div>
                <div class="bg-gray-950 rounded-md mx-auto m-2">
                    <button
                        class="p-2 font-bold font-sans mx-4 text-white text-sm lg:text-md flex items-center justify-center"
                        type="submit" (click)="updatePartner()">
                        Update
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>