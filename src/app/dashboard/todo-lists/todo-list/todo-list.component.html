<div class="justify-center items-center p-1 mt-4 overflow-x-scroll" *ngIf="todoData.length === 0">
    <h1 class="text-gray-500 italic font-sans">
        Your Todo Tasks will appear here
    </h1>
</div>
<div class="justify-center items-center p-1 mt-4 overflow-x-scroll font-sans" *ngIf="todoData.length > 0">
    <div class="min-w-[300px]">
        <table class="table-auto border-collapse rounded-lg text-gray-950 font-sans container">
            <tbody class="rounded-lg">
                <tr *ngFor="let todo of todoData; let i = index" class="">
                    <td class="border-b border-gray-400 px-4 py-2">{{ i + 1 }}</td>
                    <td class="border-b border-gray-400 px-4 py-2">
                        <div class="grid grid-cols">
                            <div>
                                {{ todo.task }}
                            </div>
                            <div class="grid grid-cols md:grid-cols-2 text-sm italic text-gray-400">
                                <span class="flex flex-cols">
                                    <i-feather name="calendar" class="font-bold text-gray-950 mr-2 mt-1 cursor-pointer"
                                        style="width: 15px;">
                                    </i-feather>
                                    created on {{ formatDate(todo.date) }}
                                </span>
                                <span class="flex flex-cols">
                                    <i-feather name="calendar" class="font-bold text-red-600 mr-2 mt-1 cursor-pointer"
                                        style="width: 15px;">
                                    </i-feather>
                                    last updated {{ formatDate(todo.lastUpdate) }}
                                </span>
                            </div>
                        </div>
                    </td>
                    <td class="border-b border-gray-400 px-4 py-2 text-sm">
                        <div class="grid grid-cols md:grid-cols-2">
                            <div class="font-bold italic text-gray-700 mt-0 md:mt-3">
                                task {{ todo.status }}
                            </div>
                            <div class="grid grid-cols">
                                <div>
                                    <i-feather name="more-horizontal" (click)="openMenu(i)" (click)="stopPropagation($event)"
                                        class="font-bold text-gray-950 mr-2 mt-1 cursor-pointer" style="width: 16px;">
                                    </i-feather>
                                </div>
                                <div class="grid grid-cols md:grid-cols-2 text-sm italic text-gray-950">
                                    <div class="flex flex-cols">
                                        <i-feather name="Rotate-ccw" (click)="updateTodoStatus(todo.id, 'pending')"
                                            class="font-bold text-gray-950 mr-2 mt-2 cursor-pointer"
                                            style="width: 15px;">
                                        </i-feather>
                                        <div [ngClass]="{'hidden': !menuOpen[i]}" id="todoAction"  
                                            class="absolute grid grid-cols right-8 md:right-16 bg-white rounded-md w-24 text-sm border border-gray-300 shadow-lg">
                                            <p *ngIf="todo.status==='pending'"
                                                (click)="updateTodoStatus(todo.id, 'in-progress')"
                                                class="p-1 mx-2 text-md cursor-pointer duration-300 hover:drop-shadow-4xl hover:text-red-600 hover:scale-105">
                                                Begin task
                                            </p>
                                            <p *ngIf="todo.status==='in-progress'"
                                                (click)="updateTodoStatus(todo.id, 'completed')"
                                                class="p-1 mx-2 text-md cursor-pointer duration-300 hover:drop-shadow-4xl hover:text-red-600 hover:scale-105">
                                                Begin task
                                            </p>
                                            <p *ngIf="todo.status==='completed'"
                                                (click)="updateTodoStatus(todo.id, 'pending')"
                                                class="p-1 mx-2 text-md cursor-pointer duration-300 hover:drop-shadow-4xl hover:text-red-600 hover:scale-105">
                                                Begin task
                                            </p>
                                            <p (click)="openUpdateTodo(todo.id)"
                                                class="p-1 mx-2 text-md cursor-pointer duration-300 hover:drop-shadow-4xl hover:text-red-600 hover:scale-105">
                                                Edit to-do
                                            </p>
                                            <p (click)="deleteTodo(todo.id)"
                                                class="p-1 mx-2 text-md cursor-pointer duration-300 hover:drop-shadow-4xl hover:text-red-600 hover:scale-105">
                                                Delete
                                            </p>
                                        </div>
                                    </div>
                                    <div class="flex flex-cols">
                                        <input type="checkbox" class="" [disabled]="todo.status === 'completed'"
                                            (change)="onCheckboxChange(todo)" [checked]="todo.status === 'completed'">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>